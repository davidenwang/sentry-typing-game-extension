(()=>{"use strict";var t={351:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.colors=e.setGameGlobals=e.getGameGlobals=void 0;let o={headerBarrierBroken:!1,headerBarrierBottom:0,searchBarBottom:0,leftBound:0,rightBound:0,damageBarrier:()=>{},damageSearchBar:()=>{},gameWon:!1,gameLost:!1};e.getGameGlobals=function(){return o},e.setGameGlobals=function(t){o=Object.assign(Object.assign({},o),t)},e.colors={red:"#e03c32",yellow:"#ffd301",green:"#006b3d"}},885:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IssueGameObject=void 0;const i=o(351);var n;!function(t){t[t.MOVING=0]="MOVING",t[t.ATTACKING_WINDUP=1]="ATTACKING_WINDUP",t[t.ATTACKING=2]="ATTACKING",t[t.BEING_DESTROYED=3]="BEING_DESTROYED"}(n||(n={}));const s={0:[2,0],2:[5,5],6:[10,5],9:[20,5]};e.IssueGameObject=class{constructor(t,e){this.domNode=t,this.nodeText=this.getDomText(),this.state=n.MOVING,this.bugifyNode(),this.timeOffset=10*Math.random(),this.startTime=null,this.lastTimestamp=null;const[o,i]=Object.values(s).slice(-1)[0];this.ySpeed=Math.round(Math.random()*i)+o,Object.entries(s).every((([t,[o,i]])=>!(e<=parseInt(t)&&(this.ySpeed=Math.round(Math.random()*i)+o,1)))),this.xSpeed=10*Math.random()-5;const{top:a,left:r,right:d}=t.getBoundingClientRect();this.traveledDistanceY=0,this.traveledDistanceX=0,this.originalY=a,this.originalX=r,this.width=d-r,this.scaleSpeed=.5}bugifyNode(){this.domNode.style.position="absolute",this.domNode.style.backgroundColor="white",this.domNode.style.height="inherit",this.domNode.style.opacity="1",this.domNode.style.transition="opacity 1s"}step(t){if(this.startTime&&this.lastTimestamp||(this.startTime=t,this.lastTimestamp=t),this.domNode.getBoundingClientRect().bottom<0||this.state===n.BEING_DESTROYED)return;const e=(t-this.lastTimestamp)/1e3,o=(t-this.startTime)/1e3+this.timeOffset;this.domNode.style.transform=`${this.stepMoveAnimation(e)} ${this.stepJitterAnimation(o)} ${this.stepScaleAnimation(o)}`,this.lastTimestamp=t}isAttacking(){return this.state===n.ATTACKING||this.state===n.ATTACKING_WINDUP}stepMoveAnimation(t){const{headerBarrierBroken:e,headerBarrierBottom:o,searchBarBottom:s,leftBound:a,rightBound:r,gameLost:d,damageBarrier:l,damageSearchBar:c}=(0,i.getGameGlobals)();return!this.isAttacking()&&!e&&this.originalY-this.traveledDistanceY<o?(l(),this.state=n.ATTACKING_WINDUP):!this.isAttacking()&&e&&!d&&this.originalY-this.traveledDistanceY<s&&(c(),this.state=n.ATTACKING_WINDUP),this.isAttacking()?this.stepAttackAnimation(t):(this.traveledDistanceY+=t*this.ySpeed,this.traveledDistanceX+=t*this.xSpeed,(this.originalX+this.traveledDistanceX+this.width>=r||this.originalX+this.traveledDistanceX<=a)&&(this.xSpeed*=-1),`translateY(${-1*Math.round(this.traveledDistanceY)}px) translateX(${Math.round(this.traveledDistanceX)}px)`)}stepAttackAnimation(t){const{headerBarrierBottom:e,searchBarBottom:o,headerBarrierBroken:s}=(0,i.getGameGlobals)(),a=s?o:e;return this.state===n.ATTACKING_WINDUP?(this.traveledDistanceY-=10*t,this.originalY-this.traveledDistanceY>a+15&&(this.state=n.ATTACKING)):(this.traveledDistanceY+=80*t,this.originalY-this.traveledDistanceY<a&&(this.state=n.MOVING)),`translateY(${-1*Math.round(this.traveledDistanceY)}px) translateX(${this.traveledDistanceX}px)`}stepScaleAnimation(t){const e=t*this.scaleSpeed*2*Math.PI%(2*Math.PI);return`scale(${1+.05*Math.sin(e)}, ${1+.05*Math.sin(e+Math.PI)})`}stepJitterAnimation(t){const e=Math.floor(t)%2==0&&t-Math.floor(t)<.5;return this.state===n.ATTACKING||e&&this.state!==n.ATTACKING_WINDUP?Math.floor(15*(t-Math.floor(t)))%2==0?"rotate(2deg)":"rotate(-2deg)":""}getDomText(){const t=[];return this.domNode.childNodes.forEach((e=>{var o;return t.push(null!==(o=e.textContent)&&void 0!==o?o:"")})),t.join("")}resetStrikethrough(){const t=this.getDomText();this.domNode.textContent=t}strikethrough(t,e){const o=this.nodeText,n=o.slice(0,t),s=o.slice(t),a=document.createElement("span");a.textContent=s.trim();const r=document.createElement("s");r.textContent=n.trim(),this.domNode.textContent="",this.domNode.appendChild(r)," "!==n.charAt(n.length-1)&&" "!==s.charAt(0)||this.domNode.appendChild(document.createTextNode("Â ")),this.domNode.appendChild(a),this.domNode.style.color=e?i.colors.red:"inherit"}destroy(){this.state=n.BEING_DESTROYED,this.domNode.style.opacity="0"}}},38:function(t,e,o){var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))((function(n,s){function a(t){try{d(i.next(t))}catch(t){s(t)}}function r(t){try{d(i.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,r)}d((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const n=o(351),s=o(885);function a(t){return new Promise((e=>{let o=document.querySelector(t);if(o)return e(o);const i=new MutationObserver((n=>{o=document.querySelector(t),o&&(e(o),i.disconnect())}));i.observe(document.body,{childList:!0,subtree:!0})}))}let r=100,d=null;let l=200;function c(t,e){t.style.position="relative";const o=document.createElement("div");return o.style.cssText=`\n        width: 600px;\n        height: 30px;\n        position: absolute;\n        background-color: ${n.colors.green};\n\n        margin: auto;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n\n        border-radius: 2px;\n        z-index: 10000;\n        transition: width 0.5s;\n        ${e}\n    `,t.appendChild(o),o}function h(t){return"matched"in t}const u=[];let m=0,p=null;const g=[];function f(){return i(this,void 0,void 0,(function*(){const{gameWon:t}=(0,n.getGameGlobals)(),e=yield a("body"),o=document.createElement("div");o.textContent=t?"YOU HAVE DEFENDED THE ISSUES STREAM!":"THE BUGS HAVE TAKEN OVER!",o.style.cssText=`\n        position: fixed;\n        color: ${t?n.colors.green:n.colors.red};\n\n        opacity: 0;\n        background-color: rgba(255, 255, 255, 0.5);\n        left: 0;\n        right: 0;\n        bottom: 0;\n        top: 0;\n        text-align: center;\n        padding-top: 50vh;\n\n        font-size: 36px;\n        text-decoration: bold;\n\n        z-index: 10000;\n        transition: opacity 5s;\n    `,e.prepend(o),window.requestAnimationFrame((()=>setTimeout((()=>{o.style.opacity="1"}))))}))}function v(t){u.forEach((e=>{e.step(t)})),window.requestAnimationFrame(v)}!function(){i(this,void 0,void 0,(function*(){(yield a("#smart-search-input")).addEventListener("input",(t=>{"DESTROY ALL BUGS"===t.target.value&&function(){i(this,void 0,void 0,(function*(){yield function(){return i(this,void 0,void 0,(function*(){const t=yield a("section > div:nth-child(2) > div"),e=yield a("section > div");t.style.opacity="1",t.style.transition="opacity 1s",e.style.opacity="1",e.style.transition="opacity 1s";const{left:o,right:i,bottom:s}=t.getBoundingClientRect(),{bottom:h}=e.getBoundingClientRect(),u=c(t);(0,n.setGameGlobals)({headerBarrierBottom:s,leftBound:o,rightBound:i,searchBarBottom:h,damageBarrier:()=>{r-=10,u.style.width=`${Math.floor(r/100*600)}px`,r<=0?(t.style.opacity="0",(0,n.setGameGlobals)({headerBarrierBroken:!0}),d=function(t){return c(t,"\n        margin-top: -30px;\n    ")}(e)):r<=30?u.style.backgroundColor=n.colors.red:r<=60&&(u.style.backgroundColor=n.colors.yellow)},damageSearchBar:()=>{d&&(l-=10,d.style.width=`${Math.floor(l/200*600)}px`,l<=0?(e.style.opacity="0",(0,n.setGameGlobals)({gameLost:!0}),f()):l<=40?d.style.backgroundColor=n.colors.red:l<=100&&(d.style.backgroundColor=n.colors.yellow))}})}))}();const t=function(){const t=document.querySelectorAll("div[data-test-id='event-issue-header']"),e={matched:[],completed:[]};return t.forEach(((t,o)=>{const i=t.querySelector("div > a > span:nth-child(2) > span");if(i){!function(t,e){var o,i;const n=t=>{!t.contains(e)&&t instanceof HTMLElement&&(t.style.visibility="hidden")};t.childNodes.forEach(n),null===(o=t.parentNode)||void 0===o||o.childNodes.forEach(n),null===(i=e.parentNode)||void 0===i||i.childNodes.forEach(n)}(t,i);const n=new s.IssueGameObject(i,o);u.push(n);const a=i.innerText;let r=e;for(let t=0;t<a.length;t++){const e=t===a.length-1,o=a.charAt(t).toLowerCase(),i=r[o];i&&h(i)?(i.matched.push(n),e&&i.completed.push(n)):r[o]={matched:[n],completed:e?[n]:[]},r=r[o]}}})),e}();yield function(t){var e;return i(this,void 0,void 0,(function*(){const o=yield a("#smart-search-input");if(o.value="",o.style.color="black",o.placeholder="DESTROY THEM ALL!",(yield a("div[data-test-id='smart-search-dropdown']")).style.visibility="hidden",p=o.cloneNode(!0),!(p&&p instanceof HTMLTextAreaElement))throw new Error("Expected cloned search bar to be instance of HTMLTextArea");null===(e=o.parentNode)||void 0===e||e.replaceChild(p,o),p.focus(),p.addEventListener("input",function(t){return e=>{const o=e.target.value.trim();let i=!1,s=t;for(let t=0;t<o.length;t++){const e=o.charAt(t).toLowerCase(),n=s[e];if(!n){i=!0;break}s=n}s&&(g.forEach((t=>{s.matched.includes(t)||t.resetStrikethrough()})),s.matched.forEach((t=>{t.strikethrough(o.length,i),g.push(t)})),s.completed.forEach((t=>{t.destroy(),m++,m===u.length&&((0,n.setGameGlobals)({gameWon:!0}),f()),p&&(p.value="")})))}}(t))}))}(t),window.requestAnimationFrame(v)}))}()}))}))}()}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,o),s.exports}o(351),o(885),o(38)})();